<!DOCTYPE html>
<html lang="en">
  <head>
  <link rel="icon" href="https://lh3.googleusercontent.com/s3ESMnbvkRuEk63iS8aQaayL1b9-Zht45JJShThz-E5W-MHnx2vAbWZV7VvbWecw_RTI_t9b2ZhEZscO7MBJD17qifsEs1OUKl1yz8ZqI_imb6JmPLuPWBsEeZZ3gI-qxPzNZAMh7O4=s128-p-k">
    <title>Graduation Planning App</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="../assets/css/upload.css" />
    <link rel="stylesheet" href="../assets/css/main.css" />
    <link rel="stylesheet" href="../assets/css/w3.css" />
    <!--Bootstrap-->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
      integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
      crossorigin="anonymous"
    />
  </head>
  <body>
    <!--Navbar-->
    <div class="row">
      <div class="col">
        <div class="w3-bar w3-card w3-left-align w3-large nav">
          <a
            class="
              w3-bar-item
              w3-button
              w3-hide-medium
              w3-hide-large
              w3-right
              w3-padding-large
              hover-accent
              w3-large w3-blue
            "
            href="javascript:void(0);"
            onclick="myFunction()"
            title="Toggle Navigation Menu"
            ><i class="fa fa-bars"></i
          ></a>
          <a
            href="./index.html"
            class="w3-bar-item w3-button w3-padding-large w3-white"
            ><b>GPA</b></a
          >
          <a
            href="./my-course-sequence.html"
            class="
              w3-bar-item w3-button w3-hide-small w3-padding-large
              hover-accent
            "
            >My Course Sequence</a
          >
          <a
            href="./find-courses.html"
            class="
              w3-bar-item w3-button w3-hide-small w3-padding-large
              hover-accent
            "
            >Find Courses</a
          >
          <a
            href="./resources.html"
            class="
              w3-bar-item w3-button w3-hide-small w3-padding-large
              hover-accent
            "
            >Resources</a
          >
          <!-- Navbar on small screens -->
          <div
            id="navDemo"
            class="
              w3-bar-block
              w3-white
              w3-hide
              w3-hide-large
              w3-hide-medium
              w3-large
            "
          >
            <a
              href="./index.html"
              class="w3-bar-item w3-button w3-padding-large"
              >GPA</a
            >
            <a
              href="./my-course-sequence.html"
              class="w3-bar-item w3-button w3-padding-large"
              >My Course Sequence</a
            >
            <a
              href="./find-courses.html"
              class="w3-bar-item w3-button w3-padding-large"
              >Find Courses</a
            >
            <a
              href="./resources.html"
              class="w3-bar-item w3-button w3-padding-large"
              >Resources</a
            >
          </div>
        </div>
      </div>
    </div>

    <div class="row top">
      <div class="col-2 sidebar" id="sidebar">
        <form class="center">
          <div>
            <label for="image_uploads" class="center">Select file</label>
            <input
              type="file"
              id="image_uploads"
              name="image_uploads"
              accept=".html"
            />
          </div>
          <div class="preview">
            <p>No file selected</p>
          </div>
          <div>
            <button>Submit</button>
          </div>
        </form>
      </div>
      <div class="col-9">
        <h1 class="center">Import Completed Courses</h1>
        <br />
        <h6 class="center">
          Follow these instructions to let us know what courses you've taken so
          far instead of starting from scratch!
        </h6>
        <ol>
          <li>Navigate to Banner</li>
          <p>
            We know, we hate Banner too. But it stores info that we want to
            bring over here
          </p>
          <li>Navigate to your UG Degree Check</li>
          <p>
            You should be in the Student Menu tab when you login. Then click on
            the Academic Records menu and from there on UG Degree Check.
          </p>
          <li>Find your course summary</li>
          <p>
            This should be the third button in the center of the top of the
            screen. It should reload the page with a new view. Now
          </p>
          <li>Download the course summary</li>
          <p>
            For Windows/Linux users, press CTL+S<br />
            For Mac users, press CMD+S<br /><br />
            <i
              >Make sure you save the file as "HTML" or "Webpage, HTML Only."</i
            >
            You should get one file that downloads.
          </p>
          <li>Upload it here!</li>
          <p>See the sidebar on the left</p>
        </ol>
      </div>
    </div>
  </body>
  <script>
    //Code borrowed from https://github.com/mdn/learning-area/blob/main/html/forms/file-examples/file-example.html
    const input = document.querySelector('input');
    const preview = document.querySelector('.preview');

    input.style.opacity = 0;

    input.addEventListener('change', updateImageDisplay);

    function updateImageDisplay() {
      while (preview.firstChild) {
        preview.removeChild(preview.firstChild);
      }

      const curFiles = input.files;
      if (curFiles.length === 0) {
        const para = document.createElement('p');
        para.textContent = 'No files currently selected for upload';
        preview.appendChild(para);
      } else {
        const list = document.createElement('ol');
        preview.appendChild(list);

        for (const file of curFiles) {
          const listItem = document.createElement('li');
          const para = document.createElement('p');

          if (validFileType(file)) {
            para.textContent = `File name ${
              file.name
            }, file size ${returnFileSize(file.size)}.`;
            const image = document.createElement('img');
            image.src = URL.createObjectURL(file);

            listItem.appendChild(image);
            listItem.appendChild(para);
          } else {
            para.textContent = `File name ${file.name}: Not a valid file type. Update your selection.`;
            listItem.appendChild(para);
          }

          list.appendChild(listItem);
        }
      }
    }

    function validFileType(file) {
      return fileTypes.includes(file.type);
    }

    function returnFileSize(number) {
      if (number < 1024) {
        return number + 'bytes';
      } else if (number > 1024 && number < 1048576) {
        return (number / 1024).toFixed(1) + 'KB';
      } else if (number > 1048576) {
        return (number / 1048576).toFixed(1) + 'MB';
      }
    }
  </script>
</html>
